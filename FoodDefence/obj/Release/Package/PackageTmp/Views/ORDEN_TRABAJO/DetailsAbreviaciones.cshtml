@model IEnumerable<FoodDefence.Models.objectModel.TrampaControlDetallaAbreviaciones>

@{
    ViewBag.Title = "DetailsAbreviaciones";
    Layout = "~/Views/Shared/_Layout.cshtml";
}





<link href="@Url.Content("~/ViewsResources/orden_trabajo.css")" rel="stylesheet" type="text/css" />
<script src="@Url.Content("~/Scripts/jquery.PrintArea.js")" type="text/javascript"></script>

<div class="callout callout-primary">
    <div id="impresion">
        <h4> Detalle de Abreviaciones</h4>
        <br />
        <br />
        <h5>Estados</h5>
        <table class="table table-bordered table-sm">
            <tr>
                <th>
                    Tipo Trampa
                </th>
                <th>
                    Abreviatura
                </th>
                <th>
                    Descripción
                </th>
            </tr>
            @foreach (var item in Model)
            {
                if (item.tipo == "E")
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.trampaTipoDesc)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.abreviatura)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.descripcion)
                        </td>
                    </tr>
                }
            }

        </table>
        <br />
        <h5>Acciones</h5>
        <table class="table table-bordered table-sm">
            <tr>
                <th>
                    Tipo Trampa
                </th>
                <th>
                    Abreviatura
                </th>
                <th>
                    Descripción
                </th>
            </tr>
            @foreach (var item in Model)
            {
                if (item.tipo == "A")
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.trampaTipoDesc)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.abreviatura)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.descripcion)
                        </td>
                    </tr>
                }
            }

        </table>
    </div>
    <div class="form-group mt-3" id="divBotones">        
        @Html.ActionLink("Volver a Orden de Trabajo", "DetailsCarga", "ORDEN_TRABAJO", new { id = (int)ViewBag.idOrdenTrabajo }, new { @class = "btn btn-outline-primary", @id = "btnVolver", @data_wait = "btn" })
        <button type="button" class="btn btn-outline-primary" id="imprimir1">Imprimir</button>

    </div>
</div>

<script type="text/javascript">
    $('#imprimir1').on('click', function (e) {
        
        $('#divBotones').hide();
        
        setTimeout(function () {
            window.print();
        }, 1000);

        setTimeout(function () {
            $('#divBotones').show();        
        }, 3000);


    })
</script>
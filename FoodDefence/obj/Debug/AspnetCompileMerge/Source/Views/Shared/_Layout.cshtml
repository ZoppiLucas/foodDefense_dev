<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FoodDefense</title>
    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")
    @Scripts.Render("~/bundles/jquery")
    <script src="@Url.Content("~/Scripts/popper.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/bootstrap.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/bootstrap-multiselect.js")" type="text/javascript"></script>
    
    @Scripts.Render("~/bundles/jqueryunobtrusive")
    @Scripts.Render("~/bundles/bootstrap")

    @Scripts.Render("~/bundles/bootstrapdatepicker")
    @RenderSection("scripts", required: false)
</head>
<body>
    @if (HttpContext.Current.Session["idUsuarioTipo"].ToString() == "4")
    {
        <nav class="navbar navbar-expand-lg navbar-light bg-white">
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavDropdown">
                <a class="navbar-brand" href="#">
                    <img src="@Url.Content("~/Content/Img/logo.png")" alt="" width="130" loading="lazy">
                </a>

                <ul class="navbar-nav">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle"
                           href="#"
                           id="navbarDropdownMenuLink"
                           data-toggle="dropdown"
                           aria-haspopup="true"
                           aria-expanded="false">
                            Portal cliente
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                            @if (HttpContext.Current.Session["Menu"] != null)
                            {
                                if (((List<FoodDefence.Models.MENU_USUARIO>)HttpContext.Current.Session["Menu"]) != null)
                                {
                                    if (((List<FoodDefence.Models.MENU_USUARIO>)HttpContext.Current.Session["Menu"]).Where(n => n.idMenu == 20).FirstOrDefault() != null)
                                    {
                                        <a class="dropdown-item" href="@Url.Action("Chart", "Reportes")">Gráficos de barra</a>
                                    }
                                    if (((List<FoodDefence.Models.MENU_USUARIO>)HttpContext.Current.Session["Menu"]).Where(n => n.idMenu == 21).FirstOrDefault() != null)
                                    {
                                        <a class="dropdown-item" href="@Url.Action("ExporData", "ORDEN_TRABAJO")">Exportar Datos</a>
                                    }
                                }
                            }
                        </div>
                    </li>
                   <li class="nav-item">
                        
                        <a class="nav-link text-danger" href="@Url.Action("Ingreso", "Ingresar")">Salir <i class="fa fa-sign-out"></i></a>

                    </li>
                </ul>
            </div>
        </nav>
    }
    else
    {
        <nav class="navbar navbar-expand-lg navbar-light bg-white">
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavDropdown">
                <a class="navbar-brand" href="#">
                    <img src="@Url.Content("~/Content/Img/logo.png")" alt="" width="130" loading="lazy">
                </a>

                <ul class="navbar-nav">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle"
                           href="#"
                           id="navbarDropdownMenuLink"
                           data-toggle="dropdown"
                           aria-haspopup="true"
                           aria-expanded="false">
                            Trampas
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                            @if (HttpContext.Current.Session["Menu"] != null)
                            {
                                if (((List<FoodDefence.Models.MENU_USUARIO>)HttpContext.Current.Session["Menu"]) != null)
                                {
                                    if (((List<FoodDefence.Models.MENU_USUARIO>)HttpContext.Current.Session["Menu"]).Where(n => n.idMenu == 6).FirstOrDefault() != null)
                                    {
                                        <a class="dropdown-item" href="@Url.Action("Index", "TRAMPA_TIPO")">Tipos de trampa</a>
                                    }
                                    if (((List<FoodDefence.Models.MENU_USUARIO>)HttpContext.Current.Session["Menu"]).Where(n => n.idMenu == 7).FirstOrDefault() != null)
                                    {
                                        <a class="dropdown-item" href="@Url.Action("Index", "TRAMPA")">Trampa</a>
                                    }
                                    if (((List<FoodDefence.Models.MENU_USUARIO>)HttpContext.Current.Session["Menu"]).Where(n => n.idMenu == 8).FirstOrDefault() != null)
                                    {
                                        <a class="dropdown-item" href="@Url.Action("Index", "TRAMPA_CLIENTE_LOCACION_SECTOR")">Asociación de trampa</a>
                                    }
                                    if (((List<FoodDefence.Models.MENU_USUARIO>)HttpContext.Current.Session["Menu"]).Where(n => n.idMenu == 17).FirstOrDefault() != null)
                                    {
                                        <a class="dropdown-item" href="@Url.Action("PrintStickers", "TRAMPA_CLIENTE_LOCACION_SECTOR")">Impresión Stickers</a>
                                    }
                                }
                            }
                        </div>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Clientes
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                            @if (HttpContext.Current.Session["Menu"] != null)
                            {
                                if (((List<FoodDefence.Models.MENU_USUARIO>)HttpContext.Current.Session["Menu"]) != null)
                                {
                                    if (((List<FoodDefence.Models.MENU_USUARIO>)HttpContext.Current.Session["Menu"]).Where(n => n.idMenu == 9).FirstOrDefault() != null)
                                    {
                                        <a class="dropdown-item" href="@Url.Action("Index", "CLIENTE")">Cliente</a>
                                    }
                                    if (((List<FoodDefence.Models.MENU_USUARIO>)HttpContext.Current.Session["Menu"]).Where(n => n.idMenu == 10).FirstOrDefault() != null)
                                    {
                                        <a class="dropdown-item" href="@Url.Action("Index", "CLIENTE_LOCACION")">Locación</a>
                                    }
                                    if (((List<FoodDefence.Models.MENU_USUARIO>)HttpContext.Current.Session["Menu"]).Where(n => n.idMenu == 11).FirstOrDefault() != null)
                                    {
                                        <a class="dropdown-item" href="@Url.Action("Index", "CLIENTE_LOCACION_SECTOR")">Sector</a>
                                    }
                                    if (((List<FoodDefence.Models.MENU_USUARIO>)HttpContext.Current.Session["Menu"]).Where(n => n.idMenu == 12).FirstOrDefault() != null)
                                    {
                                        <a class="dropdown-item" href="@Url.Action("Index", "TRAMPA_CLIENTE_LOCACION_SECTOR")">Asociación de trampa</a>
                                    }
                                }
                            }

                        </div>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Técnicos
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                            @if (HttpContext.Current.Session["Menu"] != null)
                            {
                                if (((List<FoodDefence.Models.MENU_USUARIO>)HttpContext.Current.Session["Menu"]) != null)
                                {
                                    if (((List<FoodDefence.Models.MENU_USUARIO>)HttpContext.Current.Session["Menu"]).Where(n => n.idMenu == 13).FirstOrDefault() != null)
                                    {
                                        <a class="dropdown-item" href="@Url.Action("Index", "EMPLEADO")">Técnico</a>
                                    }
                                }
                            }
                        </div>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Ordenes de trabajo
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                            @if (HttpContext.Current.Session["Menu"] != null)
                            {
                                if (((List<FoodDefence.Models.MENU_USUARIO>)HttpContext.Current.Session["Menu"]) != null)
                                {
                                    if (((List<FoodDefence.Models.MENU_USUARIO>)HttpContext.Current.Session["Menu"]).Where(n => n.idMenu == 14).FirstOrDefault() != null)
                                    {
                                        <a class="dropdown-item" href="@Url.Action("Index", "ORDEN_TRABAJO")">Orden de trabajo</a>
                                    }
                                    if (((List<FoodDefence.Models.MENU_USUARIO>)HttpContext.Current.Session["Menu"]).Where(n => n.idMenu == 15).FirstOrDefault() != null)
                                    {
                                        <a class="dropdown-item" href="@Url.Action("Index", "ORDEN_TRABAJO_CARGA")">Carga de trabajo</a>
                                    }
                                    if (((List<FoodDefence.Models.MENU_USUARIO>)HttpContext.Current.Session["Menu"]).Where(n => n.idMenu == 18).FirstOrDefault() != null)
                                    {
                                        <a class="dropdown-item" href="@Url.Action("ExporData", "ORDEN_TRABAJO")">Exportar Datos</a>
                                    }
                                }
                            }
                        </div>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Reportes
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                            @if (HttpContext.Current.Session["Menu"] != null)
                            {
                                if (((List<FoodDefence.Models.MENU_USUARIO>)HttpContext.Current.Session["Menu"]) != null)
                                {
                                    if (((List<FoodDefence.Models.MENU_USUARIO>)HttpContext.Current.Session["Menu"]).Where(n => n.idMenu == 16).FirstOrDefault() != null)
                                    {
                                        <a class="dropdown-item" href="@Url.Action("Chart", "Reportes")">Gráficos de barra</a>
                                    }
                                }
                            }

                        </div>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Configuración
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                            @if (HttpContext.Current.Session["Menu"] != null)
                            {
                                if (((List<FoodDefence.Models.MENU_USUARIO>)HttpContext.Current.Session["Menu"]) != null)
                                {
                                    if (((List<FoodDefence.Models.MENU_USUARIO>)HttpContext.Current.Session["Menu"]).Where(n => n.idMenu == 23).FirstOrDefault() != null)
                                    {
                                        <a class="dropdown-item" href="@Url.Action("Index", "Tareas")">Tareas</a>
                                    }
                                    if (((List<FoodDefence.Models.MENU_USUARIO>)HttpContext.Current.Session["Menu"]).Where(n => n.idMenu == 24).FirstOrDefault() != null)
                                    {
                                        <a class="dropdown-item" href="@Url.Action("Index", "CONTROL_PLAGA")">Acciones</a>
                                    }
                                }
                            }

                        </div>
                    </li>

                    <li class="nav-item">

                        <a class="nav-link text-danger" href="@Url.Action("Ingreso", "Ingresar")">Salir <i class="fa fa-sign-out"></i></a>

                    </li>
                </ul>
            </div>
        </nav>
    }
    <div class="container body-content">
        <br />
        @RenderBody()
    </div>
</body>
</html>

<script type="text/javascript">

    $(document).ready(function () {
        
        //if ($.validator != null) {
        //    //validar fecha corrector de error
        //    $.validator.addMethod('date', function (value, element, params) {
        //        if (this.optional(element)) {
        //            return true;
        //        }
        //        var ok = true;
        //        try {
        //            $.datepicker.parseDate('dd/mm/yy', value);
        //        }
        //        catch (err) {
        //            ok = false;
        //        }
        //        return ok;
        //    });
        //}
    });


</script>